<!-- App chính -->
<div id="review-app">
  <h2>Đánh giá sản phẩm</h2>
  <form id="review-form">
    <input type="hidden" name="customerId" value="{{ customer.id }}">
    <input type="hidden" name="productId" value="{{ product.id }}">
    <input type="email" name="email" placeholder="Email của bạn" required>

    <select name="rating" required>
      <option value="">Chọn số sao</option>
      <option value="5">⭐ 5 - Rất tốt</option>
      <option value="4">⭐ 4 - Tốt</option>
      <option value="3">⭐ 3 - Trung bình</option>
      <option value="2">⭐ 2 - Kém</option>
      <option value="1">⭐ 1 - Rất tệ</option>
    </select>

    <textarea name="content" placeholder="Viết đánh giá của bạn tại đây..." required></textarea>

    <label>Đính kèm ảnh minh họa (tùy chọn):</label>
    <input type="file" id="imageInput" name="images" accept="image/*" multiple>
    <div id="preview-container" class="preview-container"></div>

    <button type="submit">
      Gửi đánh giá
      <span class="spinner" style="display: none;"></span>
    </button>
  </form>

  <hr>
  <h3>Đánh giá đã được duyệt</h3>
  <div id="approved-reviews"></div>
</div>

<!-- Tải thư viện Toastify-js -->
<script src="https://cdn.jsdelivr.net/npm/toastify-js" defer></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js@1.12.0/src/toastify.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">


{% schema %}
{
  "name": "Product Review Block",
  "target": "section",
  "stylesheet": "review.css",
  "javascript": "review.js",
  "settings": []
}
{% endschema %}
